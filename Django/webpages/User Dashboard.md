# Webpages - Dashboard  
**Boritrader LLC**  

This section describes the **Dashboard's** functionality and purpose. It covers key features such as **account summaries**, **algorithm management**, **trade logs**, and **real-time monitoring**. The dashboard serves as the central hub where users can view market insights, manage algorithms, and track trading activity.

---
## 1. **Security Considerations**  

1. **Access Control**:  
   - Users must be **authenticated** to access the dashboard.

2. **CSRF Protection**:  
   - CSRF tokens are used for all **POST requests** to prevent cross-site request forgery attacks.

3. **WebSocket Security**:  
   - WebSocket errors and disconnections are **monitored and handled gracefully**.

4. **Data Privacy**:  
   - Sensitive data (e.g., API keys) is only visible to authenticated users.
---

## 2. **How the Dashboard Works**  

- **Access Control**:  
  - The dashboard requires users to be **logged in**. Django’s `@login_required` decorator ensures only authenticated users can access it.

- **Data Aggregation**:  
  - On load, the system gathers information from the **Binance bot**, including:
    - **Account summaries** with balances and profits.
    - **Market snapshots** and order book data.
    - **Enabled tickers** and algorithm states.
    - **Algorithm statuses** (whether enabled or disabled).  
  - Important system information is logged and displayed in the **trade log** for user reference.
  - On load, the system also pulls several fields directly from the database using the user ID, including:
      - **User Algorithm preferences** including tickers, trade quantities, and execution frequencies. 
      - **Algorithm descriptions** showing potential usage and other useful information. Not user specific, but fetched dynamically for accuracy.  

---

## **Features and Sections on the Dashboard**  

### **Account Summary**  
- Displays **current and available balances** for key assets like USD, USDT, BUSD, and USDC.  
- Shows **owned coins** along with their respective holdings.  
- Placeholder sections exist for **total, realized, and unrealized profits**, awaiting historical trade data integration.

### **Algorithm Management**  
- Users can manage algorithms, categorized as:
  - **Basic Algorithms**:  
    - Moving Average Crossover  
    - Catching the Bottom  
    - Dollar-Cost Averaging  
  - **Advanced Algorithms**:  
    - Stop Loss  
    - Trailing Stop Loss  
    - Pump & Dump Monitor  
    - Maximized RSI  
    - Simple Trend Riding  

- **Toggle switches** allow users to **enable or disable algorithms**.  
- The **status overview** dynamically reflects algorithm states.
- **Details popups** provide an in-depth look at individual algorithm descriptions, use cases, and examples.  
- **Preferences forms** allow users to customize algorithm-specific settings.  

### **Trade Log and Real-Time Monitoring**  
- The **trade log** records key events, including:
  - Algorithm activations or deactivations.
  - Real-time notifications from trading algorithms.  
- A **WebSocket connection** updates the trade log without page reloads.

### **Status Overview Animation**  
- Visual feedback through a **status indicator** shows the bot’s activity:
  - **Monitoring state** (animated "Monitoring...").
  - **Disconnected state** (red "Disconnected" message).  
  - **Algorithm Signal** (white "[Algorithm name] [BUY/SELL/NOTHING FOUND] on [ticker name]" message)

These cues keep users informed about the bot’s current state and performance.

### **Popups**  
1. **Algorithm Preferences**:  
   - Users can load and modify algorithm settings in a popup form. This is how users will customize enabled tickers, trade quantity, and execution frequencies for each algorithm.  
   - Settings are validated and saved to the database.  

1. **Algorithm Status**: 
  - Provides users with a summary of recent notifications and signals generated by each algorithm.
  - Displays key status updates, including recommendations or actions taken on each ticker, enabling users to monitor and differentiate algorithms in real-time.

1. **Algorithm Details**:  
   - Users can view detailed descriptions, including:
     - How the algorithm works.  
     - Best use cases.  
     - Example scenarios (best-case and worst-case examples).  

---

## **HTML Design and Layout Overview**  
- **User Info Section**: Displays the **user’s name and ID** at the top.
- **Trade Log**: A scrollable area records **key events in real time**.
- **Algorithm Management**: Provides switches to control basic and advanced algorithms.
- **Algorithm Details and Preferences Popups**: Allow users to view or customize settings without navigating away.  
- **Market Snapshot**: Displays **owned coins and account balances**.

The Popup Section relies on the following files found in the includes folder:
- `algorithm_details.html` - controls the html formatting for the details section of each algorithm.
- `algorithm_preferences.html` - controls the html formatting of the algorithm preferences form of each algorithm.   
See `Shared Resources documentation` for more details on these files.
---

## 3. **JavaScript and User Interactions**  

The dashboard's JavaScript enhances interactivity by managing **algorithm toggles**, **real-time monitoring**, and **UI updates**. Below is a detailed breakdown of the key interactions:

### **Algorithm Management**  
- **Toggling Algorithms**: Users switch algorithm states (enabled/disabled) using toggle switches.  
- **Dropdown Management**: The **advanced algorithms section** can be expanded or collapsed using a dropdown button.  
- **Server Synchronization**: Each toggle triggers a **CSRF-protected POST request** to update the server with the new state.  
- **Details and Preferences**: Users can access popups to view algorithm descriptions or modify preferences.

### **Real-Time Monitoring**  
- **WebSocket Integration**:  
  - Establishes a WebSocket connection to monitor algorithms in real time.  
  - Notifications are **automatically added to the trade log** as they occur.

### **Popups for Algorithms**  
1. **Algorithm Details**:  
   - Loads descriptions dynamically using a GET request.  
   - Provides detailed explanations, use cases, and examples.  

2. **Algorithm Preferences**:  
   - Displays a form for configuring algorithm settings.  
   - Form submission triggers a secure POST request to save preferences.

### **Trade Log and Status Updates**  
- **Immediate Feedback**: Algorithm changes are logged with timestamps.  
- **Status Queuing**: Messages are displayed in a **controlled sequence** to prevent clutter.

### ** User Activity Feedback**
- **Success/Error Messages**: Banner messages are displayed when users are updating forms to show whether their submission was successful. See `Shared Resources` documentation for more information on `base.js`.
---